# Maintainer: Drew DeVault <sir@cmpwn.com>
pkgname="qbe"
pkgver="0_git20220614"
_commit=6cd5f7028647a88935ec1f7776a08b51eb0fb1c8
pkgrel=0
pkgdesc="A simple C compiler backend"
url="https://c9x.me/compile/"
arch="x86_64 aarch64 riscv64"
license="MIT"
source="$pkgname-$pkgver.tar.gz::https://c9x.me/git/qbe.git/snapshot/qbe-$_commit.tar.gz"
builddir="$srcdir/$pkgname-$_commit"

build() {
	make PREFIX=/usr
}

check() {
	make check
}

package() {
	make PREFIX=/usr DESTDIR="$pkgdir" install
}

sha512sums="
577a06cd20f23e76bbf6372934e124a1b53d59ba481215e9c3e3b153af5536c19dd0d4e66e470661400acf77e20342d7abcdaa3007d1929d434931b0d5e63069  qbe-0_git20220614.tar.gz
"
